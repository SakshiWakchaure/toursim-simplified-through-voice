{"ast":null,"code":"import { useEffect, useRef } from 'react';\nimport FrameCallbackRegistryJS from \"../frameCallback/FrameCallbackRegistryJS\";\nvar frameCallbackRegistry = new FrameCallbackRegistryJS();\nexport function useFrameCallback(callback) {\n  var autostart = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  var ref = useRef({\n    setActive: function setActive(isActive) {\n      frameCallbackRegistry.manageStateFrameCallback(ref.current.callbackId, isActive);\n      ref.current.isActive = isActive;\n    },\n    isActive: autostart,\n    callbackId: -1\n  });\n  useEffect(function () {\n    ref.current.callbackId = frameCallbackRegistry.registerFrameCallback(callback);\n    ref.current.setActive(ref.current.isActive);\n    return function () {\n      frameCallbackRegistry.unregisterFrameCallback(ref.current.callbackId);\n      ref.current.callbackId = -1;\n    };\n  }, [callback, autostart]);\n  return ref.current;\n}","map":{"version":3,"names":["useEffect","useRef","FrameCallbackRegistryJS","frameCallbackRegistry","useFrameCallback","callback","autostart","arguments","length","undefined","ref","setActive","isActive","manageStateFrameCallback","current","callbackId","registerFrameCallback","unregisterFrameCallback"],"sources":["C:\\Project\\toursim-simplified-through-voice-master\\node_modules\\react-native-reanimated\\lib\\module\\reanimated2\\hook\\useFrameCallback.ts"],"sourcesContent":["import { useEffect, useRef } from 'react';\nimport FrameCallbackRegistryJS from '../frameCallback/FrameCallbackRegistryJS';\nimport { FrameInfo } from '../frameCallback/FrameCallbackRegistryUI';\n\nexport type FrameCallback = {\n  setActive: (isActive: boolean) => void;\n  isActive: boolean;\n  callbackId: number;\n};\nconst frameCallbackRegistry = new FrameCallbackRegistryJS();\n\nexport function useFrameCallback(\n  callback: (frameInfo: FrameInfo) => void,\n  autostart = true\n): FrameCallback {\n  const ref = useRef<FrameCallback>({\n    setActive: (isActive: boolean) => {\n      frameCallbackRegistry.manageStateFrameCallback(\n        ref.current.callbackId,\n        isActive\n      );\n      ref.current.isActive = isActive;\n    },\n    isActive: autostart,\n    callbackId: -1,\n  });\n\n  useEffect(() => {\n    ref.current.callbackId =\n      frameCallbackRegistry.registerFrameCallback(callback);\n    ref.current.setActive(ref.current.isActive);\n\n    return () => {\n      frameCallbackRegistry.unregisterFrameCallback(ref.current.callbackId);\n      ref.current.callbackId = -1;\n    };\n  }, [callback, autostart]);\n\n  return ref.current;\n}\n"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,MAApB,QAAkC,OAAlC;AACA,OAAOC,uBAAP;AAQA,IAAMC,qBAAqB,GAAG,IAAID,uBAAJ,EAA9B;AAEA,OAAO,SAASE,gBAATA,CACLC,QADK,EAGU;EAAA,IADfC,SACe,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MADH,IACG;EACf,IAAMG,GAAG,GAAGT,MAAM,CAAgB;IAChCU,SAAS,EAAG,SAAAA,UAAAC,QAAD,EAAuB;MAChCT,qBAAqB,CAACU,wBAAtB,CACEH,GAAG,CAACI,OAAJ,CAAYC,UADd,EAEEH,QAFF;MAIAF,GAAG,CAACI,OAAJ,CAAYF,QAAZ,GAAuBA,QAAvB;IACD,CAP+B;IAQhCA,QAAQ,EAAEN,SARsB;IAShCS,UAAU,EAAE,CAAC;EATmB,CAAhB,CAAlB;EAYAf,SAAS,CAAC,YAAM;IACdU,GAAG,CAACI,OAAJ,CAAYC,UAAZ,GACEZ,qBAAqB,CAACa,qBAAtB,CAA4CX,QAA5C,CADF;IAEAK,GAAG,CAACI,OAAJ,CAAYH,SAAZ,CAAsBD,GAAG,CAACI,OAAJ,CAAYF,QAAlC;IAEA,OAAO,YAAM;MACXT,qBAAqB,CAACc,uBAAtB,CAA8CP,GAAG,CAACI,OAAJ,CAAYC,UAA1D;MACAL,GAAG,CAACI,OAAJ,CAAYC,UAAZ,GAAyB,CAAC,CAA1B;IACD,CAHD;EAID,CATQ,EASN,CAACV,QAAD,EAAWC,SAAX,CATM,CAAT;EAWA,OAAOI,GAAG,CAACI,OAAX;AACD"},"metadata":{},"sourceType":"module","externalDependencies":[]}