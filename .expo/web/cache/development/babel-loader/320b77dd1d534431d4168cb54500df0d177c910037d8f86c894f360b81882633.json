{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nimport { withTiming } from \"../../animation\";\nvar supportedProps = ['width', 'height', 'originX', 'originY', 'transform'];\nexport var SharedTransition = function () {\n  function SharedTransition() {\n    _classCallCheck(this, SharedTransition);\n    _defineProperty(this, \"animationFactory\", null);\n    _defineProperty(this, \"defaultDuration\", 500);\n  }\n  _createClass(SharedTransition, [{\n    key: \"custom\",\n    value: function custom(animationFactory) {\n      this.animationFactory = animationFactory;\n      return this;\n    }\n  }, {\n    key: \"build\",\n    value: function build() {\n      var animationFactory = this.animationFactory;\n      var animationDuration = this.defaultDuration;\n      return function (values) {\n        'worklet';\n\n        var animations = {};\n        var initialValues = {};\n        if (animationFactory) {\n          animations = animationFactory(values);\n          for (var key in animations) {\n            if (!supportedProps.includes(key)) {\n              throw Error(\"The prop '\" + key + \"' is not supported yet.\");\n            }\n          }\n        } else {\n          for (var propName of supportedProps) {\n            if (propName === 'transform') {\n              var matrix = values.targetTransformMatrix;\n              animations.transformMatrix = withTiming(matrix, {\n                duration: animationDuration\n              });\n            } else {\n              var keyToTargetValue = 'target' + propName.charAt(0).toUpperCase() + propName.slice(1);\n              animations[propName] = withTiming(values[keyToTargetValue], {\n                duration: animationDuration\n              });\n            }\n          }\n        }\n        for (var _propName in animations) {\n          if (_propName === 'transform') {\n            initialValues.transformMatrix = values.currentTransformMatrix;\n          } else {\n            var keyToCurrentValue = 'current' + _propName.charAt(0).toUpperCase() + _propName.slice(1);\n            initialValues[_propName] = values[keyToCurrentValue];\n          }\n        }\n        return {\n          initialValues: initialValues,\n          animations: animations\n        };\n      };\n    }\n  }], [{\n    key: \"createInstance\",\n    value: function createInstance() {\n      return new SharedTransition();\n    }\n  }, {\n    key: \"custom\",\n    value: function custom(animationFactory) {\n      return this.createInstance().custom(animationFactory);\n    }\n  }, {\n    key: \"build\",\n    value: function build() {\n      return this.createInstance().build();\n    }\n  }]);\n  return SharedTransition;\n}();\nexport var DefaultSharedTransition = SharedTransition;","map":{"version":3,"names":["withTiming","supportedProps","SharedTransition","_classCallCheck","_defineProperty","_createClass","key","value","custom","animationFactory","build","animationDuration","defaultDuration","values","animations","initialValues","includes","Error","propName","matrix","targetTransformMatrix","transformMatrix","duration","keyToTargetValue","charAt","toUpperCase","slice","currentTransformMatrix","keyToCurrentValue","createInstance","DefaultSharedTransition"],"sources":["C:\\Project\\toursim-simplified-through-voice-master\\node_modules\\react-native-reanimated\\lib\\module\\reanimated2\\layoutReanimation\\sharedTransitions\\index.ts"],"sourcesContent":["import { withTiming } from '../../animation';\nimport {\n  ILayoutAnimationBuilder,\n  LayoutAnimationFunction,\n  LayoutAnimationsValues,\n} from '../animationBuilder/commonTypes';\nimport { StyleProps } from '../../commonTypes';\n\nconst supportedProps = ['width', 'height', 'originX', 'originY', 'transform'];\n\ntype AnimationFactoryType = (values: LayoutAnimationsValues) => StyleProps;\n\nexport class SharedTransition implements ILayoutAnimationBuilder {\n  animationFactory: AnimationFactoryType | null = null;\n  defaultDuration = 500;\n\n  static createInstance(): SharedTransition {\n    return new SharedTransition();\n  }\n\n  static custom(animationFactory: AnimationFactoryType): SharedTransition {\n    return this.createInstance().custom(animationFactory);\n  }\n\n  custom(animationFactory: AnimationFactoryType): SharedTransition {\n    this.animationFactory = animationFactory;\n    return this;\n  }\n\n  static build(): LayoutAnimationFunction {\n    return this.createInstance().build();\n  }\n\n  build(): LayoutAnimationFunction {\n    const animationFactory = this.animationFactory;\n    const animationDuration = this.defaultDuration;\n    return (values: LayoutAnimationsValues) => {\n      'worklet';\n      let animations: {\n        [key: string]: any;\n      } = {};\n      const initialValues: {\n        [key: string]: any;\n      } = {};\n\n      if (animationFactory) {\n        animations = animationFactory(values);\n        for (const key in animations) {\n          if (!supportedProps.includes(key)) {\n            throw Error(`The prop '${key}' is not supported yet.`);\n          }\n        }\n      } else {\n        for (const propName of supportedProps) {\n          if (propName === 'transform') {\n            const matrix = values.targetTransformMatrix;\n            animations.transformMatrix = withTiming(matrix, {\n              // native screen transition takes around 500ms\n              duration: animationDuration,\n            });\n          } else {\n            const keyToTargetValue =\n              'target' + propName.charAt(0).toUpperCase() + propName.slice(1);\n            animations[propName] = withTiming(values[keyToTargetValue], {\n              // native screen transition takes around 500ms\n              duration: animationDuration,\n            });\n          }\n        }\n      }\n\n      for (const propName in animations) {\n        if (propName === 'transform') {\n          initialValues.transformMatrix = values.currentTransformMatrix;\n        } else {\n          const keyToCurrentValue =\n            'current' + propName.charAt(0).toUpperCase() + propName.slice(1);\n          initialValues[propName] = values[keyToCurrentValue];\n        }\n      }\n\n      return { initialValues, animations };\n    };\n  }\n}\n\nexport const DefaultSharedTransition = SharedTransition;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}